<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ResumePro - Professional resume builder with multiple templates. Create stunning resumes in minutes with PDF, JPG, DOC, and HTML export options.">
    <meta name="keywords" content="resume builder, CV maker, resume template, professional resume, online resume, resume creator, job application, career, PDF resume, modern resume">
    <meta name="author" content="ResumePro">
    <title>ResumePro · Advanced Resume Builder</title>
    <!-- Fav Icon -->
    <link rel="icon" href="favicon.svg" type="image/x-icon">
    <!-- html2canvas (for JPG) + jspdf (for PDF) + FileSaver -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- docx library -->
    <script src="https://cdn.jsdelivr.net/npm/docx@8.2.0/build/index.min.js"></script>
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts for better typography -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            font-family: 'Inter', sans-serif;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.8rem;
            font-weight: 700;
            background: linear-gradient(to right, #fff, #e0e7ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            font-family: 'Poppins', sans-serif;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .header p {
            color: rgba(255,255,255,0.9);
            font-size: 1.1rem;
        }

        /* Main Grid */
        .builder-grid {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 25px;
        }

        /* Form Panel - Enhanced */
        .form-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            padding: 30px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(255,255,255,0.5);
            transition: transform 0.3s ease;
        }

        .form-panel:hover {
            transform: translateY(-5px);
        }

        .form-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 25px;
            border-bottom: 2px solid #e0e7ff;
            padding-bottom: 15px;
        }

        .form-header i {
            font-size: 2rem;
            color: #4f46e5;
            background: #e0e7ff;
            padding: 10px;
            border-radius: 15px;
        }

        .form-header h2 {
            font-size: 1.8rem;
            font-weight: 600;
            color: #1e293b;
        }

        .form-section {
            background: #f8fafc;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #e2e8f0;
        }

        .form-section h3 {
            color: #334155;
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .form-section h3 i {
            color: #4f46e5;
        }

        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 6px;
            color: #475569;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .input-group label i {
            width: 20px;
            color: #4f46e5;
            margin-right: 5px;
        }

        .input-group input,
        .input-group textarea,
        .input-group select {
            width: 100%;
            padding: 12px 16px;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 0.95rem;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
        }

        .input-group input:focus,
        .input-group textarea:focus,
        .input-group select:focus {
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
            outline: none;
        }

        .input-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        /* Skills section */
        .skills-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .skill-tag {
            background: #e0e7ff;
            color: #4f46e5;
            padding: 8px 16px;
            border-radius: 30px;
            font-size: 0.9rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .skill-tag i {
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .skill-tag:hover {
            background: #4f46e5;
            color: white;
        }

        .add-skill {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .add-skill input {
            flex: 1;
            padding: 10px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
        }

        .add-skill button {
            background: #4f46e5;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .add-skill button:hover {
            background: #4338ca;
            transform: scale(0.98);
        }

        /* Template selector */
        .template-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .template-option {
            flex: 1;
            text-align: center;
            padding: 10px;
            background: #f1f5f9;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }

        .template-option.active {
            border-color: #4f46e5;
            background: #e0e7ff;
        }

        .template-option i {
            font-size: 1.5rem;
            color: #4f46e5;
            margin-bottom: 5px;
        }

        .template-option span {
            display: block;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .primary-btn {
            flex: 1;
            background: #4f46e5;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 15px;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
            border: 1px solid #818cf8;
        }

        .primary-btn:hover {
            background: #4338ca;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px #4f46e5;
        }

        .secondary-btn {
            flex: 1;
            background: white;
            color: #4f46e5;
            border: 2px solid #4f46e5;
            padding: 15px;
            border-radius: 15px;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
        }

        .secondary-btn:hover {
            background: #f8fafc;
            transform: translateY(-2px);
        }

        /* Preview Panel */
        .preview-panel {
            background: white;
            border-radius: 30px;
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            display: flex;
            flex-direction: column;
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        .preview-toolbar {
            background: #1e293b;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
        }

        .preview-toolbar h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2rem;
        }

        .download-options {
            display: flex;
            gap: 8px;
        }

        .download-btn {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .download-btn:hover {
            background: #4f46e5;
            border-color: #4f46e5;
        }

        /* Resume Templates */
        .resume-container {
            padding: 30px;
            background: #f8fafc;
            overflow: hidden;
        }

        #resumePreview {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px -10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            min-height: 600px;
        }

        /* Template 1 - Modern */
        .template-modern .profile-header {
            display: flex;
            align-items: center;
            gap: 25px;
            margin-bottom: 20px;
        }

        .template-modern .profile-photo {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid #4f46e5;
            display: none;
            flex-shrink: 0;
        }

        .template-modern .profile-photo.show {
            display: block;
        }

        .template-modern .profile-info {
            flex: 1;
        }

        .template-modern .preview-name {
            font-size: 2.5rem;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 5px;
            font-family: 'Poppins', sans-serif;
        }

        .template-modern .preview-title {
            font-size: 1.3rem;
            color: #4f46e5;
            font-weight: 500;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid #4f46e5;
        }

        .template-modern .preview-contact {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            background: #f1f5f9;
            padding: 15px 20px;
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .template-modern .preview-contact span {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #334155;
            word-break: break-word;
            overflow-wrap: break-word;
        }

        .template-modern .preview-contact i {
            color: #4f46e5;
            width: 20px;
        }

        .template-modern .preview-section {
            margin-bottom: 25px;
        }

        .template-modern .preview-section h4 {
            color: #0f172a;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-left: 4px solid #4f46e5;
            padding-left: 15px;
        }

        .template-modern .preview-section h4 i {
            color: #4f46e5;
        }

        /* Template 2 - Classic */
        .template-classic .preview-name {
            text-align: center;
            font-size: 2.8rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 5px;
            font-family: 'Times New Roman', serif;
        }

        .template-classic .preview-title {
            text-align: center;
            font-size: 1.4rem;
            color: #475569;
            font-style: italic;
            margin-bottom: 20px;
        }

        .template-classic .preview-contact {
            text-align: center;
            padding: 15px;
            border-top: 1px solid #cbd5e1;
            border-bottom: 1px solid #cbd5e1;
            margin-bottom: 25px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
        }

        .template-classic .preview-contact span {
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .template-classic .preview-section {
            margin-bottom: 25px;
        }

        .template-classic .preview-section h4 {
            color: #1e293b;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 15px;
            border-bottom: 2px solid #cbd5e1;
            padding-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .template-classic .preview-section h4 i {
            color: #4f46e5;
        }

        /* Template 3 - Minimal */
        .template-minimal .preview-name {
            font-size: 2.2rem;
            font-weight: 500;
            color: #020617;
            margin-bottom: 5px;
            letter-spacing: -0.5px;
        }

        .template-minimal .preview-title {
            font-size: 1.1rem;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 25px;
        }

        .template-minimal .preview-contact {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
            font-size: 0.9rem;
            color: #475569;
        }

        .template-minimal .preview-contact span {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .template-minimal .preview-section {
            margin-bottom: 25px;
        }

        .template-minimal .preview-section h4 {
            color: #020617;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .template-minimal .preview-section h4 i {
            color: #4f46e5;
        }

        /* Hide profile photo for classic and minimal templates */
        .template-classic .profile-header,
        .template-minimal .profile-header {
            display: block;
        }

        .template-classic .profile-photo,
        .template-minimal .profile-photo {
            display: none !important;
        }

        .photo-input-group {
            transition: opacity 0.3s;
        }

        .photo-input-group.hidden {
            opacity: 0.5;
            pointer-events: none;
        }

        .skills-display {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .skill-badge {
            background: #e0e7ff;
            color: #4f46e5;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #10b981;
            color: white;
            padding: 12px 24px;
            border-radius: 10px;
            box-shadow: 0 10px 25px -5px rgba(0,0,0,0.2);
            animation: slideIn 0.3s ease;
            z-index: 1000;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Responsive - Mobile First Approach */
        
        /* Min-width queries for progressive enhancement */
        @media only screen and (min-width: 481px) {
            .builder-grid {
                gap: 20px;
            }
        }

        @media only screen and (min-width: 769px) {
            .builder-grid {
                gap: 25px;
            }
            
            .form-panel, .preview-panel {
                padding: 25px;
            }
        }

        @media only screen and (min-width: 1025px) {
            .builder-grid {
                grid-template-columns: 1fr 1.2fr;
            }
            
            .preview-panel {
                position: sticky;
                top: 20px;
            }
        }

        @media only screen and (min-width: 1201px) {
            .form-panel, .preview-panel {
                padding: 30px;
            }
        }

        /* Max-width queries for responsive adjustments */
        @media only screen and (max-width: 1400px) {
            .container {
                max-width: 100%;
                padding: 0 15px;
            }
        }

        @media only screen and (max-width: 1200px) {
            .container {
                max-width: 100%;
            }
        }

        @media only screen and (max-width: 1024px) {
            .builder-grid {
                grid-template-columns: 1fr;
            }
            
            .preview-panel {
                position: static;
            }

            .header h1 {
                font-size: 2.2rem;
            }

            .form-panel:hover {
                transform: none;
            }
        }

        @media only screen and (max-width: 768px) {
            body {
                padding: 10px;
            }

            .header h1 {
                font-size: 1.8rem;
            }

            .header p {
                font-size: 0.9rem;
            }

            .form-panel, .preview-panel {
                padding: 20px;
                border-radius: 20px;
            }

            .form-header h2 {
                font-size: 1.4rem;
            }

            .form-header i {
                font-size: 1.5rem;
                padding: 8px;
            }

            .input-row {
                grid-template-columns: 1fr;
                gap: 0;
            }

            .preview-toolbar {
                flex-direction: column;
                gap: 10px;
            }

            .download-options {
                width: 100%;
                justify-content: center;
            }

            .download-btn {
                font-size: 0.75rem;
                padding: 6px 10px;
            }

            #resumePreview {
                padding: 20px;
                font-size: 0.9rem;
            }

            .template-modern .preview-name,
            .template-classic .preview-name {
                font-size: 1.8rem;
            }

            .template-minimal .preview-name {
                font-size: 1.6rem;
            }
        }

        @media only screen and (max-width: 640px) {
            .header h1 {
                font-size: 1.6rem;
            }

            .form-section {
                padding: 15px;
                margin-bottom: 15px;
            }

            .action-buttons {
                flex-direction: column;
                gap: 10px;
            }
        }

        @media only screen and (max-width: 480px) {
            .header h1 {
                font-size: 1.4rem;
            }

            .header p {
                font-size: 0.8rem;
            }

            .form-section {
                padding: 15px;
                border-radius: 15px;
            }

            .form-section h3 {
                font-size: 1rem;
            }

            .action-buttons {
                flex-direction: column;
                gap: 10px;
            }

            .template-selector {
                gap: 8px;
            }

            .template-option {
                padding: 8px;
            }

            .template-option i {
                font-size: 1.2rem;
            }

            .template-option span {
                font-size: 0.7rem;
            }

            .primary-btn, .secondary-btn {
                font-size: 0.95rem;
                padding: 12px;
            }

            .download-btn {
                font-size: 0.7rem;
                padding: 5px 8px;
            }

            #resumePreview {
                padding: 15px;
            }

            .skill-tag, .skill-badge {
                font-size: 0.8rem;
                padding: 6px 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-magic"></i> ResumePro Builder</h1>
            <p>Create stunning resumes in minutes · Multiple templates · Download in any format</p>
        </div>

        <div class="builder-grid">
            <!-- Enhanced Form Panel -->
            <div class="form-panel">
                <div class="form-header">
                    <i class="fas fa-user-edit"></i>
                    <h2>Build Your Resume</h2>
                </div>

                <!-- Template Selector -->
                <div class="form-section">
                    <h3><i class="fas fa-palette"></i> Choose Template</h3>
                    <div class="template-selector">
                        <div class="template-option active" data-template="modern" id="templateModern">
                            <i class="fas fa-layer-group"></i>
                            <span>Modern</span>
                        </div>
                        <div class="template-option" data-template="classic" id="templateClassic">
                            <i class="fas fa-scroll"></i>
                            <span>Classic</span>
                        </div>
                        <div class="template-option" data-template="minimal" id="templateMinimal">
                            <i class="fas fa-minus-circle"></i>
                            <span>Minimal</span>
                        </div>
                    </div>
                </div>

                <!-- Personal Information -->
                <div class="form-section">
                    <h3><i class="fas fa-user-circle"></i> Personal Details</h3>
                    <div class="input-group photo-input-group" id="photoInputGroup">
                        <label><i class="fas fa-camera"></i> Profile Photo (Optional - Modern Template Only)</label>
                        <input type="file" id="profilePhoto" accept="image/*">
                    </div>
                    <div class="input-row">
                        <div class="input-group">
                            <label><i class="fas fa-user"></i> Full Name</label>
                            <input type="text" id="fullName" placeholder="e.g., Anuj Gupta" value="">
                        </div>
                        <div class="input-group">
                            <label><i class="fas fa-briefcase"></i> Job Title / Experience</label>
                            <input type="text" id="jobTitle" placeholder="e.g., Fresher, 2 Years Experience, Final Year Student" value="">
                        </div>
                    </div>
                </div>

                <!-- Contact Information -->
                <div class="form-section">
                    <h3><i class="fas fa-address-card"></i> Contact</h3>
                    <div class="input-row">
                        <div class="input-group">
                            <label><i class="fas fa-envelope"></i> Email</label>
                            <input type="email" id="email" placeholder="e.g., yourname@gmail.com" value="">
                        </div>
                        <div class="input-group">
                            <label><i class="fas fa-phone"></i> Phone</label>
                            <input type="tel" id="phone" placeholder="e.g., +91 98765 43210" value="">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="input-group">
                            <label><i class="fas fa-map-marker-alt"></i> Location</label>
                            <input type="text" id="location" placeholder="e.g., Mumbai, India" value="">
                        </div>
                        <div class="input-group">
                            <label><i class="fas fa-globe"></i> Website/LinkedIn</label>
                            <input type="url" id="website" placeholder="e.g., linkedin.com/in/yourname" value="">
                        </div>
                    </div>
                </div>

                <!-- Professional Summary -->
                <div class="form-section">
                    <h3><i class="fas fa-align-left"></i> Career Objective</h3>
                    <div class="input-group">
                        <textarea id="summary" rows="4" placeholder="e.g., Motivated Computer Science student with strong programming skills seeking internship opportunities. Passionate about web development and problem-solving."></textarea>
                    </div>
                </div>

                <!-- Education -->
                <div class="form-section">
                    <h3><i class="fas fa-graduation-cap"></i> Education</h3>
                    <div class="input-group">
                        <label>Degree & Institution</label>
                        <input type="text" id="education" placeholder="e.g., B.Tech Computer Science - IIT Delhi (2021-2025) | CGPA: 8.5/10" value="">
                    </div>
                </div>

                <!-- Skills with dynamic tags -->
                <div class="form-section">
                    <h3><i class="fas fa-code"></i> Technical Skills</h3>
                    <div class="skills-container" id="skillsContainer">
                    </div>
                    <div class="add-skill">
                        <input type="text" id="newSkill" placeholder="e.g., Python, Java, React, Git">
                        <button id="addSkillBtn"><i class="fas fa-plus"></i> Add</button>
                    </div>
                </div>

                <!-- Projects -->
                <div class="form-section">
                    <h3><i class="fas fa-project-diagram"></i> Projects</h3>
                    <div class="input-group">
                        <textarea id="projects" rows="5" placeholder="e.g., E-Commerce Website - Built full-stack shopping site using React and Node.js with payment integration&#13;&#10;Weather App - Created weather forecast app using OpenWeather API and JavaScript"></textarea>
                    </div>
                </div>

                <!-- Achievements -->
                <div class="form-section">
                    <h3><i class="fas fa-trophy"></i> Achievements</h3>
                    <div class="input-group">
                        <textarea id="achievements" rows="3" placeholder="e.g., Solved 200+ problems on LeetCode&#13;&#10;Winner of college hackathon 2024&#13;&#10;Certified in AWS Cloud Practitioner"></textarea>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="primary-btn" id="updatePreviewBtn">
                        <i class="fas fa-sync-alt"></i> Update Preview
                    </button>
                    <button class="secondary-btn" id="resetFormBtn">
                        <i class="fas fa-undo"></i> Reset
                    </button>
                </div>
            </div>

            <!-- Preview Panel -->
            <div class="preview-panel">
                <div class="preview-toolbar">
                    <h3><i class="fas fa-eye"></i> Live Preview</h3>
                    <div class="download-options">
                        <button class="download-btn" id="downloadPdfBtn">
                            <i class="fas fa-file-pdf"></i> PDF
                        </button>
                        <button class="download-btn" id="downloadJpgBtn">
                            <i class="fas fa-camera"></i> JPG
                        </button>
                        <button class="download-btn" id="downloadDocBtn">
                            <i class="fas fa-file-word"></i> DOC
                        </button>
                        <button class="download-btn" id="downloadHtmlBtn">
                            <i class="fas fa-code"></i> HTML
                        </button>
                    </div>
                </div>
                <div class="resume-container">
                    <div id="resumePreview" class="template-modern">
                        <!-- Dynamic content will be inserted here -->
                        <div class="profile-header">
                            <img src="" alt="Profile" class="profile-photo" id="profilePhotoPreview">
                            <div class="profile-info">
                                <div class="preview-name">Your Name</div>
                                <div class="preview-title">Your Job Title</div>
                            </div>
                        </div>
                        <div class="preview-contact">
                            <span><i class="fas fa-envelope"></i> your.email@example.com</span>
                            <span><i class="fas fa-phone"></i> +91 XXXXX XXXXX</span>
                            <span><i class="fas fa-map-marker-alt"></i> Your Location</span>
                            <span><i class="fas fa-globe"></i> your-website.com</span>
                        </div>
                        <div class="preview-section">
                            <h4><i class="fas fa-bullseye"></i> Career Objective</h4>
                            <div class="preview-summary">Your career objective will appear here...</div>
                        </div>
                        <div class="preview-section">
                            <h4><i class="fas fa-graduation-cap"></i> Education</h4>
                            <div class="preview-education">Your education details will appear here...</div>
                        </div>
                        <div class="preview-section">
                            <h4><i class="fas fa-code"></i> Technical Skills</h4>
                            <div class="skills-display">
                                <span class="skill-badge">Add your skills</span>
                            </div>
                        </div>
                        <div class="preview-section">
                            <h4><i class="fas fa-project-diagram"></i> Projects</h4>
                            <div class="preview-projects">Your projects will appear here...</div>
                        </div>
                        <div class="preview-section">
                            <h4><i class="fas fa-trophy"></i> Achievements</h4>
                            <div class="preview-achievements">Your achievements will appear here...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        (function() {
            // DOM Elements
            const fullNameInp = document.getElementById('fullName');
            const jobTitleInp = document.getElementById('jobTitle');
            const emailInp = document.getElementById('email');
            const phoneInp = document.getElementById('phone');
            const locationInp = document.getElementById('location');
            const websiteInp = document.getElementById('website');
            const summaryInp = document.getElementById('summary');
            const educationInp = document.getElementById('education');
            const projectsInp = document.getElementById('projects');
            const achievementsInp = document.getElementById('achievements');
            const profilePhotoInp = document.getElementById('profilePhoto');
            
            const previewName = document.querySelector('.preview-name');
            const previewTitle = document.querySelector('.preview-title');
            const previewContact = document.querySelector('.preview-contact');
            const previewSummary = document.querySelector('.preview-summary');
            const previewEducation = document.querySelector('.preview-education');
            const previewProjects = document.querySelector('.preview-projects');
            const previewAchievements = document.querySelector('.preview-achievements');
            const skillsDisplay = document.querySelector('.skills-display');
            const resumePreview = document.getElementById('resumePreview');
            const profilePhotoPreview = document.getElementById('profilePhotoPreview');
            
            // Skills management
            const skillsContainer = document.getElementById('skillsContainer');
            const newSkillInput = document.getElementById('newSkill');
            const addSkillBtn = document.getElementById('addSkillBtn');
            let skills = [];

            // Template management
            const templateModern = document.getElementById('templateModern');
            const templateClassic = document.getElementById('templateClassic');
            const templateMinimal = document.getElementById('templateMinimal');
            let currentTemplate = 'modern';

            // Update skills display
            function updateSkillsDisplay() {
                // Update skills tags in form
                skillsContainer.innerHTML = skills.map(skill => 
                    `<span class="skill-tag">${skill} <i class="fas fa-times"></i></span>`
                ).join('');
                
                // Update preview skills
                skillsDisplay.innerHTML = skills.map(skill => 
                    `<span class="skill-badge">${skill}</span>`
                ).join('');

                // Add delete event listeners to skill tags
                document.querySelectorAll('.skill-tag').forEach(tag => {
                    tag.addEventListener('click', function(e) {
                        if (e.target.classList.contains('fa-times')) {
                            const skillText = this.textContent.replace('×', '').trim();
                            skills = skills.filter(s => s !== skillText);
                            updateSkillsDisplay();
                            showToast('Skill removed');
                        }
                    });
                });
            }

            // Profile photo upload
            profilePhotoInp.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        profilePhotoPreview.src = event.target.result;
                        profilePhotoPreview.classList.add('show');
                        showToast('Photo uploaded!');
                    };
                    reader.readAsDataURL(file);
                }
            });

            // Add new skill
            addSkillBtn.addEventListener('click', function() {
                const newSkill = newSkillInput.value.trim();
                if (newSkill && !skills.includes(newSkill)) {
                    skills.push(newSkill);
                    updateSkillsDisplay();
                    newSkillInput.value = '';
                    showToast('Skill added!');
                } else if (skills.includes(newSkill)) {
                    showToast('Skill already exists', 'error');
                }
            });

            // Update preview function
            function updatePreview() {
                // Update text content
                previewName.textContent = fullNameInp.value || 'Your Name';
                previewTitle.textContent = jobTitleInp.value || 'Job Title';
                
                // Update contact section
                const contactSpans = previewContact.querySelectorAll('span');
                if (contactSpans.length >= 4) {
                    contactSpans[0].innerHTML = `<i class="fas fa-envelope"></i> ${emailInp.value || 'email@example.com'}`;
                    contactSpans[1].innerHTML = `<i class="fas fa-phone"></i> ${phoneInp.value || '+1 234 567 890'}`;
                    contactSpans[2].innerHTML = `<i class="fas fa-map-marker-alt"></i> ${locationInp.value || 'Location'}`;
                    contactSpans[3].innerHTML = `<i class="fas fa-globe"></i> ${websiteInp.value || 'website.com'}`;
                }
                
                previewSummary.textContent = summaryInp.value || 'Your career objective';
                previewEducation.textContent = educationInp.value || 'Your education';
                if (previewProjects) previewProjects.textContent = projectsInp.value || 'Your projects';
                if (previewAchievements) previewAchievements.textContent = achievementsInp.value || 'Your achievements';
                
                updateSkillsDisplay();
                applyTemplate(currentTemplate);
                showToast('Preview updated!');
            }

            // Template switching
            function applyTemplate(template) {
                // Remove all template classes
                resumePreview.classList.remove('template-modern', 'template-classic', 'template-minimal');
                
                // Add selected template class
                resumePreview.classList.add(`template-${template}`);
                
                // Update active state in template selector
                document.querySelectorAll('.template-option').forEach(opt => opt.classList.remove('active'));
                if (template === 'modern') templateModern.classList.add('active');
                if (template === 'classic') templateClassic.classList.add('active');
                if (template === 'minimal') templateMinimal.classList.add('active');
                
                // Toggle photo input visibility
                const photoInputGroup = document.getElementById('photoInputGroup');
                if (template === 'classic' || template === 'minimal') {
                    photoInputGroup.classList.add('hidden');
                } else {
                    photoInputGroup.classList.remove('hidden');
                }
                
                currentTemplate = template;
            }

            templateModern.addEventListener('click', () => applyTemplate('modern'));
            templateClassic.addEventListener('click', () => applyTemplate('classic'));
            templateMinimal.addEventListener('click', () => applyTemplate('minimal'));

            // Reset form
            function resetForm() {
                const randomNum = Math.floor(Math.random() * 90000) + 10000;
                const randomEmail = `user${randomNum}@example.com`;
                const randomPhone = `+91 ${Math.floor(Math.random() * 90000) + 10000} ${Math.floor(Math.random() * 90000) + 10000}`;
                
                fullNameInp.value = '';
                jobTitleInp.value = '';
                emailInp.value = randomEmail;
                phoneInp.value = randomPhone;
                locationInp.value = '';
                websiteInp.value = '';
                summaryInp.value = '';
                educationInp.value = '';
                projectsInp.value = '';
                achievementsInp.value = '';
                profilePhotoInp.value = '';
                profilePhotoPreview.src = '';
                profilePhotoPreview.classList.remove('show');
                skills = [];
                updatePreview();
                showToast('Form reset successfully!');
            }

            // Toast notification
            function showToast(message, type = 'success') {
                const toast = document.createElement('div');
                toast.className = 'toast';
                toast.style.background = type === 'success' ? '#10b981' : '#ef4444';
                toast.innerHTML = `<i class="fas ${type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle'}"></i> ${message}`;
                document.body.appendChild(toast);
                
                setTimeout(() => {
                    toast.remove();
                }, 3000);
            }

            // Download functions
            async function downloadAsPDF() {
                try {
                    const element = document.getElementById('resumePreview');
                    const canvas = await html2canvas(element, { 
                        scale: 2,
                        backgroundColor: '#ffffff',
                        logging: false
                    });
                    
                    const imgData = canvas.toDataURL('image/png');
                    const { jsPDF } = window.jspdf;
                    
                    const pdf = new jsPDF({
                        orientation: 'portrait',
                        unit: 'px',
                        format: [canvas.width * 0.75, canvas.height * 0.75]
                    });
                    
                    pdf.addImage(imgData, 'PNG', 0, 0, canvas.width * 0.75, canvas.height * 0.75);
                    pdf.save('resume.pdf');
                    showToast('PDF downloaded successfully!');
                } catch (error) {
                    showToast('Error generating PDF', 'error');
                }
            }

            async function downloadAsJPG() {
                try {
                    const element = document.getElementById('resumePreview');
                    const canvas = await html2canvas(element, { 
                        scale: 2,
                        backgroundColor: '#ffffff'
                    });
                    
                    const link = document.createElement('a');
                    link.download = 'resume.jpg';
                    link.href = canvas.toDataURL('image/jpeg', 0.95);
                    link.click();
                    showToast('JPG downloaded successfully!');
                } catch (error) {
                    showToast('Error generating JPG', 'error');
                }
            }

            async function downloadAsDOC() {
                try {
                    showToast('Generating DOC file...');
                    
                    // Check if docx library is loaded
                    if (!window.docx) {
                        throw new Error('DOCX library not loaded. Please refresh the page.');
                    }
                    
                    const { Document, Packer, Paragraph, HeadingLevel, AlignmentType, TextRun } = window.docx;

                    const children = [
                        new Paragraph({ 
                            children: [new TextRun({ text: fullNameInp.value || 'Your Name', bold: true, size: 32 })],
                            alignment: AlignmentType.CENTER,
                            spacing: { after: 100 }
                        }),
                        new Paragraph({ 
                            children: [new TextRun({ text: jobTitleInp.value || 'Job Title', size: 24 })],
                            alignment: AlignmentType.CENTER,
                            spacing: { after: 200 }
                        }),
                        new Paragraph({ 
                            children: [new TextRun({ text: `${emailInp.value || 'email@example.com'} | ${phoneInp.value || 'phone'} | ${locationInp.value || 'location'}` })],
                            alignment: AlignmentType.CENTER,
                            spacing: { after: 300 }
                        }),
                        new Paragraph({ 
                            children: [new TextRun({ text: "Career Objective", bold: true, size: 24 })],
                            spacing: { before: 200, after: 100 }
                        }),
                        new Paragraph({ 
                            children: [new TextRun({ text: summaryInp.value || 'Your career objective' })],
                            spacing: { after: 200 }
                        }),
                        new Paragraph({ 
                            children: [new TextRun({ text: "Education", bold: true, size: 24 })],
                            spacing: { before: 200, after: 100 }
                        }),
                        new Paragraph({ 
                            children: [new TextRun({ text: educationInp.value || 'Your education' })],
                            spacing: { after: 200 }
                        }),
                        new Paragraph({ 
                            children: [new TextRun({ text: "Technical Skills", bold: true, size: 24 })],
                            spacing: { before: 200, after: 100 }
                        }),
                        new Paragraph({ 
                            children: [new TextRun({ text: skills.length > 0 ? skills.join(' · ') : 'Your skills' })],
                            spacing: { after: 200 }
                        }),
                        new Paragraph({ 
                            children: [new TextRun({ text: "Projects", bold: true, size: 24 })],
                            spacing: { before: 200, after: 100 }
                        }),
                        new Paragraph({ 
                            children: [new TextRun({ text: projectsInp.value || 'Your projects' })],
                            spacing: { after: 200 }
                        }),
                        new Paragraph({ 
                            children: [new TextRun({ text: "Achievements", bold: true, size: 24 })],
                            spacing: { before: 200, after: 100 }
                        }),
                        new Paragraph({ 
                            children: [new TextRun({ text: achievementsInp.value || 'Your achievements' })]
                        })
                    ];

                    const doc = new Document({ 
                        sections: [{ 
                            children: children 
                        }] 
                    });
                    
                    const blob = await Packer.toBlob(doc);
                    
                    const link = document.createElement('a');
                    link.href = URL.createObjectURL(blob);
                    link.download = `resume_${Date.now()}.docx`;
                    document.body.appendChild(link);
                    link.click();
                    setTimeout(() => {
                        document.body.removeChild(link);
                        URL.revokeObjectURL(link.href);
                    }, 100);
                    showToast('DOC downloaded successfully!');
                } catch (error) {
                    console.error('DOC Error:', error);
                    showToast('Error: ' + error.message, 'error');
                }
            }

            function downloadAsHTML() {
                const resumeHTML = document.getElementById('resumePreview').outerHTML;
                const styles = document.querySelector('style').innerHTML;
                
                const fullHTML = `<!DOCTYPE html>
<html>
<head>
    <title>My Resume</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>${styles}</style>
</head>
<body style="padding: 20px; background: #f8fafc;">
    ${resumeHTML}
</body>
</html>`;
                
                const blob = new Blob([fullHTML], { type: 'text/html' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = 'resume.html';
                link.click();
                URL.revokeObjectURL(link.href);
                showToast('HTML downloaded successfully!');
            }

            // Event listeners
            document.getElementById('updatePreviewBtn').addEventListener('click', updatePreview);
            document.getElementById('resetFormBtn').addEventListener('click', resetForm);
            document.getElementById('downloadPdfBtn').addEventListener('click', downloadAsPDF);
            document.getElementById('downloadJpgBtn').addEventListener('click', downloadAsJPG);
            document.getElementById('downloadDocBtn').addEventListener('click', downloadAsDOC);
            document.getElementById('downloadHtmlBtn').addEventListener('click', downloadAsHTML);

            // Live preview on input
            const inputs = [fullNameInp, jobTitleInp, emailInp, phoneInp, locationInp, websiteInp, summaryInp, educationInp, projectsInp, achievementsInp];
            inputs.forEach(inp => inp.addEventListener('input', updatePreview));

            // Initialize
            updateSkillsDisplay();
            applyTemplate('modern');
            showToast('Welcome to ResumePro Builder!');
        })();
    </script>
</body>
</html>
